<template>
    <div class="shadow-md p-4 mt-5 mx-6 mb-4 min-w-300">
        <!-- <router-link :to="{'name': 'articleDetail', params:{'boardId':this.boardId}}"> -->
        <div @click="clickArticle">
            <h2 class="text-2xl font-semibold">{{ this.title }}</h2>
            <p class="text-justify truncate leading-tight text-gray-800">{{ this.content }}<p>
            <div class="mt-2">
            <span class="left">{{ this.createDate }}</span>
            <span class="float-right">By: <a class="text-purple-500" href="#">{{ this.name }}</a></span>
            </div>
        </div>
        <!-- </router-link> -->
    </div>
</template>

<script>
import {getDate} from '@/utils/date.js'
import store from '@/store/index.js'
import { getArticleInfo } from '@/api/article.js'
export default {
    props:{
        boardId:[String,Number]
    },
    data(){
        return{
            content:'',
            createDate:'',
            name:'',
            title:'',
        }
    },
    mounted(){
        const teamId = store.state.teamId
        getArticleInfo(teamId,this.boardId).
        then((res)=>{
            console.log(res)
            this.name = res.data.name
            this.title = res.data.title
            this.content = res.data.content
            this.createDate = getDate(res.data.createDate)
            
        }).catch((err)=>{
            console.log(err)
        })
    },
    methods:{
        clickArticle: function(){
            this.$store.commit('setBoardId',this.boardId)
            this.$router.push('/team/articleDetail')
        }
    }
}
</script>

<style>

</style>